(this["webpackJsonponboarding-fe"]=this["webpackJsonponboarding-fe"]||[]).push([[0],{198:function(e,t,a){e.exports=a(352)},352:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(50),c=a.n(l),u=(a(203),a(20)),o=a(44),i=a(16),s=a.n(i),m=a(8),p=a(113),f=function(e,t){switch(t.type){case"LOGIN":return Object(p.a)({},e,{userIsAuthenticated:!0,user:t.payload});case"LOGOUT":return Object(p.a)({},e,{userIsAuthenticated:!1,user:t.payload});default:return e}},d=Object(n.createContext)(),E=function(e){var t=e.children,a=Object(n.useReducer)(f,{userIsAuthenticated:!1,user:{}}),l=Object(m.a)(a,2),c=l[0],u=l[1];return r.a.createElement(d.Provider,{value:{authStatus:c,dispatch:u}},t)},b=a(372),h=a(373),v=a(374),g=a(353),O=function(){return r.a.createElement(b.a,{container:!0,centered:!0,columns:1,style:{marginTop:"7em"}},r.a.createElement(b.a.Row,{centered:!0},r.a.createElement(b.a.Column,{width:10,textAlign:"center"},r.a.createElement(h.a,{stacked:!0},r.a.createElement(v.a,{size:"large"},"Welcome to Border"),r.a.createElement("p",null,"Welcome to Border the task manager for teams"),r.a.createElement(u.b,{to:"login"},r.a.createElement(g.a,null,"Login")),r.a.createElement(u.b,{to:"register"},r.a.createElement(g.a,null,"Register"))))))},j=a(364),y=a(9),k=a.n(y),w=a(18),C={loginUser:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/api/user/login",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logoutUser:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),registerUser:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/api/user/register",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),edit:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.put(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAll:function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/user/all").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),findOne:function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/user/").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},x=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),p=s[0],f=s[1],E=Object(n.useContext)(d).dispatch;return r.a.createElement(b.a,{container:!0,centered:!0,columns:1,style:{marginTop:"7em"}},r.a.createElement(b.a.Row,{centered:!0},r.a.createElement(b.a.Column,{width:"10"},r.a.createElement(h.a,{stacked:!0},r.a.createElement(v.a,{textAlign:"center"},"Login to Border"),r.a.createElement(j.a,{onSubmit:function(e){e.preventDefault(),C.loginUser({email:c,password:p}).then((function(e){E({type:"LOGIN",payload:e.data.user}),t.push("/home")})).catch((function(e){return console.log(e)}))}},r.a.createElement(j.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{name:"email",placeholder:"Enter email",required:!0,onChange:function(e){return o(e.target.value)}})),r.a.createElement(j.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{name:"password",placeholder:"Enter password",required:!0,type:"password",onChange:function(e){return f(e.target.value)}})),r.a.createElement(g.a,{fluid:!0,size:"large",type:"submit"},"Login"),r.a.createElement("p",null,"Don't have an account? Sign up\xa0",r.a.createElement(u.b,{to:"/register"},"here"),"."))))," "))},S=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),p=i[0],f=i[1],d=Object(n.useState)(""),E=Object(m.a)(d,2),O=E[0],y=E[1],k=Object(n.useState)(""),w=Object(m.a)(k,2),C=w[0],x=w[1];return r.a.createElement(b.a,{container:!0,centered:!0,columns:1},r.a.createElement(b.a.Row,{centered:!0},r.a.createElement(b.a.Column,{width:"10"},r.a.createElement(h.a,{stacked:!0},r.a.createElement(v.a,{textAlign:"center"},"Signup to Border"),r.a.createElement(j.a,{onSubmit:function(e){e.preventDefault(),s.a.post("/api/user/register",{firstName:p,lastName:O,email:c,password:C}).then((function(){t.push("/")}))}},r.a.createElement(j.a.Field,null,r.a.createElement("label",{htmlFor:"First Name"},"First name"),r.a.createElement("input",{placeholder:"Enter firstname",required:!0,onChange:function(e){return f(e.target.value)}})),r.a.createElement(j.a.Field,null,r.a.createElement("label",{htmlFor:"Last Name"},"Last Name"),r.a.createElement("input",{placeholder:"Enter firstname",required:!0,onChange:function(e){return y(e.target.value)}})),r.a.createElement(j.a.Field,null,r.a.createElement("label",{htmlFor:"Email"},"Email"),r.a.createElement("input",{placeholder:"Enter Email",required:!0,onChange:function(e){return u(e.target.value)}})),r.a.createElement(j.a.Field,null,r.a.createElement("label",{htmlFor:"Password"},"Password"),r.a.createElement("input",{placeholder:"Enter Password",required:!0,type:"password",onChange:function(e){return x(e.target.value)}})),r.a.createElement(g.a,{fluid:!0,size:"large",type:"submit"},"Submit"))))))},T=a(367),I=a(362),A=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){C.findOne().then((function(e){return l(e)})),console.log(a)}),[]),r.a.createElement(b.a.Column,{centered:!0,tablet:14,computer:12},null!=a&&0!==a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{float:"left",textAlign:"left"},"Welcome ",a.firstName," ",a.lastName)),r.a.createElement(h.a,null,null!=a.Tasks&&0!==a.Tasks.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,"Tasks"),r.a.createElement("p",null,"You are assigned to ",a.Tasks.length," tasks."),r.a.createElement(T.a,null,a.Tasks.map((function(e){return r.a.createElement(T.a.Item,null,r.a.createElement(u.b,{to:"/lists/".concat(e.ListId)},e.name))})))):"You are not assigned to any tasks"),r.a.createElement(h.a,null,null!=a.Departments&&0!==a.Departments.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,"Tasks"),r.a.createElement("p",null,"You a member of the following departments:"),r.a.createElement(T.a,null,a.Departments.map((function(e){return r.a.createElement(T.a.Item,null,e.name)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Please join or create a",r.a.createElement(u.b,{to:"/departments"},"department"))))):r.a.createElement(h.a,{style:{margin:"2em 0"}},r.a.createElement(I.a,{active:!0,inline:"centered",size:"huge"},"Loading")))},N=a(185),L=a(370),F=function(){return r.a.createElement(L.a,{vertical:!0,color:"grey",style:{marginTop:"0.5em",minHeight:"100vh",paddingLeft:"-1rem"},inverted:!0,fixed:!0},r.a.createElement(L.a.Item,{as:u.b,name:"Home",to:"/home"}),r.a.createElement(L.a.Item,{as:u.b,name:"Lists",to:"/lists"}),r.a.createElement(L.a.Item,{as:u.b,name:"Templates",to:"/templates"}),r.a.createElement(L.a.Item,{as:u.b,name:"Department",to:"/departments"}),r.a.createElement(L.a.Item,null,r.a.createElement(L.a.Menu,null,r.a.createElement(L.a.Item,{name:""},"logout"))))},D=function(){Object(n.useContext)(d).authStatus.user.id;return r.a.createElement(b.a.Row,{only:"mobile tablet"},r.a.createElement(L.a,{top:!0,inverted:!0,style:{width:"100%",paddingTop:"1em"}},r.a.createElement(L.a.Item,{as:u.b,name:"Home",to:"/home"}),r.a.createElement(L.a.Item,{as:u.b,name:"Lists",to:"/lists"}),r.a.createElement(L.a.Item,{as:u.b,name:"Templates",to:"/templates"}),r.a.createElement(L.a.Item,{as:u.b,name:"Department",to:"/departments"}),r.a.createElement(L.a.Item,{name:""},"logout")))},U=function(e){var t=e.component,a=Object(N.a)(e,["component"]),l=Object(n.useContext)(d).authStatus;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return l.userIsAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{stackable:!0,columns:16},r.a.createElement(D,null),r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,{only:"computer",width:3},r.a.createElement(F,null)),r.a.createElement(b.a.Column,{centered:!0,tablet:14,computer:12},r.a.createElement(t,e))))):r.a.createElement(o.a,{to:e.redirectTo?e.redirectTo:"/"})}}))},R=a(369),G={all:function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/list").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),get:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/list/".concat(t)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete("/api/list/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(w.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.put("/api/list/".concat(t),a).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/api/list",t).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/department/all").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/department/lists").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/department/tasks").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/department/".concat(t)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete("/api/department/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(w.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.put("/api/department/".concat(t),a).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(w.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete("/api/department/".concat(t,"/user"),{data:a}).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J={all:B,get:z,destroy:W,update:Y,create:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/api/department",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeUser:H,allLists:P,allTasks:q},M={getTasks:function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/list"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAtask:function(){var e=Object(w.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/list/".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteTask:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateTask:function(){var e=Object(w.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.put("/api/task/".concat(t),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),createTask:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/api/task/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=function(e){var t=e.setTask,a=e.listsId,l=Object(n.useState)(""),c=Object(m.a)(l,2),u=c[0],o=c[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),p=s[0],f=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a,{onSubmit:function(){var e={name:u,description:p,ListId:a,status:!1};M.createTask(e).then((function(e){t(e.data),o(""),f("")}))}},r.a.createElement(j.a.Input,{placeholder:"Title",label:"Title",type:"text",value:u,onChange:function(e){return o(e.target.value)}}),r.a.createElement(j.a.TextArea,{placeholder:"Description",label:"Description",onChange:function(e){return f(e.target.value)},name:"textarea"}),r.a.createElement(j.a.Button,{type:"submit"},"Save")))))},$=function(e){var t=e.options,a=e.TaskServiceUpdateTask,l=e.id,c=e.setTask,u=Object(n.useState)(""),o=Object(m.a)(u,2),i=o[0],s=o[1];return r.a.createElement(j.a,null,r.a.createElement(j.a.Group,{inline:!0},r.a.createElement(j.a.Select,{placeholder:"Assign User",options:t,onChange:function(e,t){var a=t.value;s(a)},value:i}),r.a.createElement(j.a.Button,{onClick:function(){return a(l,{userId:i}).then((function(e){c([e])})),void s("")},content:"Save"})))},K=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)([]),p=Object(m.a)(s,2),f=p[0],d=p[1],E=Object(n.useState)([]),O=Object(m.a)(E,2),y=O[0],k=O[1],w=Object(n.useState)(),C=Object(m.a)(w,2),x=(C[0],C[1],Object(n.useState)([])),S=Object(m.a)(x,2),A=S[0],N=S[1],L=Object(o.g)();Object(n.useEffect)((function(){G.get(L.id).then((function(e){console.log(e),i(e)})),J.allTasks(L.id).then((function(e){k(e)})),J.allLists(L.id).then((function(e){var t=e.flatMap((function(e){return e.Users.map((function(e){var t=e.id,a=e.firstName,n=e.lastName;return{value:t,text:"".concat(a," ").concat(n)}}))})).filter((function(e,t,a){return a.findIndex((function(t){return t.value===e.value}))===t}));d(t)}))}),[A]);return r.a.createElement(b.a.Column,{centered:!0,tablet:14,computer:12},null!=c&&0!==c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{as:"h2",textAlign:"left"},null!=c.templateList?"Task for template:  ".concat(c.name):"Tasks for:  ".concat(c.name))),r.a.createElement(b.a,{stackable:!0,textAlign:"left"},null!=c.Tasks&&c.Employee?r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,{verticalAlign:"middle"},r.a.createElement(h.a,null,r.a.createElement(v.a,{as:"h3"},"Employee information"),r.a.createElement(T.a,null,r.a.createElement(T.a.Item,null,r.a.createElement("p",null,"Name: ",c.Employee.firstName," ",c.Employee.lastName)),r.a.createElement(T.a.Item,null,r.a.createElement("p",null,"Title: ",c.Employee.title)),r.a.createElement(T.a.Item,null,r.a.createElement("p",null,"Phone: ",c.Employee.phoneNumber)),r.a.createElement(T.a.Item,null,r.a.createElement("p",null,"Office: ",c.Employee.office)))))):"",null!=c.Tasks&&0!==c.Tasks.length?c.Tasks.map((function(e){return r.a.createElement(b.a.Row,{key:e.id,style:{padding:"0"}},r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"3"},e.name),r.a.createElement(b.a.Column,{verticalAlign:"middle",tablet:"3",computer:"5"},null!=e.User&&null!=e.User?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Assigned: ",e.User.firstName," ",e.User.lastName,r.a.createElement(g.a,{floated:"right",compact:!0,onClick:function(){return t=e.id,void M.updateTask(t,{UserId:null}).then((function(e){N([e])}));var t}},"x"))):"No assigned user"),r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"5"},r.a.createElement($,{options:f,TaskServiceUpdateTask:M.updateTask,id:e.id,setTask:N})),r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"2"},r.a.createElement(j.a,null,r.a.createElement(j.a.Checkbox,{inline:!0,label:"completed",checked:e.status,onChange:function(){return function(e,t){var a={status:!e};M.updateTask(t,a).then((function(e){N([e])}))}(e.status,e.id)}}))))})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"No tasks available for this list."))),r.a.createElement((function(){return null!=c.Tasks&&0!==c.Tasks.length&&!0!==c.status?r.a.createElement(r.a.Fragment,null,c.Tasks.filter((function(e){return e.status})).length===c.Tasks.length?r.a.createElement(g.a,{positive:!0,fluid:!0,onClick:function(){return function(){var e={name:c.name,description:c.description,status:!0,templateList:c.templateList};G.update(c.id,e).then((function(e){t.push("/lists")}))}()}},"Complete list"):""):!0===c.status?r.a.createElement(R.a,{positive:!0},"This list has been completed"):r.a.createElement(I.a,null)}),null),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,"Add task"),r.a.createElement(X,{setTask:N,listsId:L.id,departments:y}),r.a.createElement(g.a.Group,{floated:"right"},r.a.createElement(g.a,{secondary:!0},r.a.createElement(u.b,{style:{color:"White"},to:"/lists/edit/".concat(L.id)},"Edit")),r.a.createElement(g.a,{negative:!0,onClick:function(){G.destroy(L.id).then((function(){return t.push("/lists")}))}},"Delete")))):r.a.createElement(h.a,{style:{margin:"2em 0"}},r.a.createElement(I.a,{active:!0,inline:"centered",size:"huge"},"Loading")))},Q=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],s=o[1],p=Object(n.useState)(""),f=Object(m.a)(p,2),d=f[0],E=f[1],O=Object(n.useState)([]),y=Object(m.a)(O,2),k=y[0],w=y[1],x=Object(n.useState)([]),S=Object(m.a)(x,2),T=S[0],I=S[1];Object(n.useEffect)((function(){C.findAll().then((function(e){return w(e)})),J.all().then((function(e){l(e)}))}),[]);var A=k.map((function(e){var t=e.id,a=e.firstName,n=e.lastName;return{value:t,text:"".concat(a," ").concat(n)}})),N=function(e){J.destroy(e);var t=a.filter((function(t){return t.id!==e}));l(t)};return r.a.createElement(b.a.Column,{width:"13"},r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{as:"h2",textAlign:"left"},"Departments")),r.a.createElement(h.a,null,null!==a.length&&0!==a.length?r.a.createElement(b.a,{stackable:!0,columns:13,textAlign:"left"},a.map((function(e){return r.a.createElement(b.a.Row,{key:e.id,centered:!0},r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"4"},r.a.createElement(u.b,{to:"/departments/".concat(e.id)},e.name)),r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"4"},void 0!==e.Users?e.Users.length:null),r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"2"},r.a.createElement(g.a,{onClick:function(){return N(e.id)}},"Delete")),r.a.createElement(b.a.Column,{verticalAlign:"middle",computer:"2"},r.a.createElement(g.a,{onClick:function(){return N(e.id)}},"Edit")))}))):r.a.createElement("p",null,"No departments available, please create one below")),k.length>0?r.a.createElement(b.a.Column,{width:"13"},r.a.createElement(v.a,{as:"h3"},"Create new department"),r.a.createElement(h.a,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a,{onSubmit:function(){var e={name:i,description:d,users:T};J.create(e).then((function(e){l(a.concat([e.data]))})),I([]),s(""),E()}},r.a.createElement(j.a.Input,{placeholder:"Enter department name",label:"Department name",type:"text",value:i,onChange:function(e){return s(e.target.value)}}),r.a.createElement(j.a.Select,{placeholder:"Add user to department",options:A,onChange:function(e,t){var a=t.value;I(a)},value:T,multiple:!0,clearable:!0}),r.a.createElement(j.a.Button,{type:"submit"},"Save"))))):null," ")},V=a(368),Z=a(187),_=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],u=l[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),p=s[0],f=s[1],d=Object(n.useState)([]),E=Object(m.a)(d,2),O=E[0],y=E[1],k=Object(n.useState)([]),w=Object(m.a)(k,2),x=w[0],S=w[1],A=Object(n.useState)([]),N=Object(m.a)(A,2),L=N[0],F=N[1],D=Object(n.useState)(!0),U=Object(m.a)(D,2),R=U[0],G=U[1],B=Object(o.g)();Object(n.useEffect)((function(){J.get(B.id).then((function(e){u(e)})),C.findAll().then((function(e){return y(e)}))}),[]),Object(n.useEffect)((function(){var e=O.filter((function(e){return c.Users&&!c.Users.some((function(t){return e.id===t.id}))})).map((function(e){var t=e.id,a=e.firstName,n=e.lastName;return{value:t,text:"".concat(a," ").concat(n)}}));F(e),G(!1)}),[O,c]);var P=function(){if(""===p&&0===x.length){var e={name:c.name,users:c.Users};J.update(B.id,e).then((function(e){u(e)}))}else{var t={name:p,users:x};J.update(B.id,t).then((function(e){u(e)}))}S([]),f("")};return r.a.createElement(b.a.Column,{width:"13"},r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{as:"h2",textAlign:"left"},"Edit: ",c.name)),R?r.a.createElement(h.a,null,r.a.createElement(V.a,{active:!0,inverted:!0},r.a.createElement(I.a,{size:"large"},"Loading")),r.a.createElement(Z.a,{src:"https://react.semantic-ui.com/images/wireframe/paragraph.png"})):r.a.createElement(b.a,{stackable:!0,columns:16},r.a.createElement(b.a.Column,{width:"16"},r.a.createElement(h.a,{style:{marginTop:"2em"}},r.a.createElement(v.a,null,"Change name on department: ",c.name),r.a.createElement(b.a.Row,null,r.a.createElement(j.a,{onSubmit:P},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Input,{placeholder:"New name",type:"text",value:p,onChange:function(e){return f(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(j.a.Button,{content:"Save"}))),r.a.createElement(j.a,{onSubmit:function(e){e.preventDefault(),console.log(c.id),console.log(B.id),J.destroy(B.id),t.push("/departments")}},r.a.createElement(j.a.Button,null,"Delete")))),r.a.createElement(b.a.Row,null,r.a.createElement(h.a,{style:{marginTop:"2em"}},r.a.createElement(v.a,null,"Users in department: "),void 0!==c.Users&&0!==c.Users.length?c.Users.map((function(e){return r.a.createElement(T.a,{divided:!0,key:e.id},r.a.createElement(T.a.Item,null,r.a.createElement(T.a.Content,{floated:"left",verticalAlign:"bottom"},e.firstName," ",e.lastName),r.a.createElement(T.a.Content,{verticalAlign:"top"},r.a.createElement(g.a,{compact:!0,onClick:function(t){return function(e,t){e.preventDefault(),J.removeUser(B.id,{UserId:t}).then((function(e){u(e)}))}(t,e.id)}},"Remove"))))})):r.a.createElement("p",null,"No users members in this department"))),r.a.createElement(h.a,{style:{marginTop:"2em"}},r.a.createElement(v.a,null,"Add users"),r.a.createElement(b.a.Row,null,r.a.createElement(j.a,{onSubmit:P},r.a.createElement(j.a.Group,null,r.a.createElement(j.a.Select,{placeholder:"Add user to department",options:L,onChange:function(e,t){var a=t.value;S(a)},value:x,multiple:!0,clearable:!0}),r.a.createElement(j.a.Button,{type:"submit"},"Save"))))))))},ee=a(366),te=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),s=i[0],p=i[1],f=Object(n.useState)(),d=Object(m.a)(f,2),E=d[0],O=d[1],y=Object(n.useState)([]),k=Object(m.a)(y,2),w=k[0],C=k[1];Object(n.useEffect)((function(){J.all().then((function(e){return C(e)}))}),[]);var x=w.map((function(e){var t=e.id,a=e.name;return{value:t,text:"".concat(a)}}));return r.a.createElement(b.a.Column,{width:"10"},r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{textAlign:"left"},"Create new template")),r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,null,r.a.createElement(h.a,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a,{onSubmit:function(e){e.preventDefault();var a={name:c,description:s,departments:E,status:!1,templateList:!0};G.create(a).then((function(e){e.templateList&&t.push("/lists/".concat(e.id)),u(""),p(""),O([])}))}},r.a.createElement(j.a.Input,{placeholder:"Title",label:"Title",type:"text",value:c,onChange:function(e){return u(e.target.value)}}),x?r.a.createElement(ee.a,{placeholder:"Select departments",fluid:!0,label:"Department",multiple:!0,selection:!0,value:E,options:x,onChange:function(e,t){var a=t.value;O(a)},clearable:!0}):null,r.a.createElement("div",{style:{marginTop:"1em"}},r.a.createElement(g.a,{type:"submit"},"Save"))))))))},ae=a(361),ne={all:function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/employee/all").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),get:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.get("/api/employee/".concat(t)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),destroy:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.delete("/api/employee/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(w.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.put("/api/employee/".concat(t),a).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.post("/api/employee",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),s=i[0],p=i[1],f=Object(n.useState)(),d=Object(m.a)(f,2),E=d[0],O=d[1],y=Object(n.useState)(),k=Object(m.a)(y,2),w=k[0],C=k[1],x=Object(n.useState)(""),S=Object(m.a)(x,2),T=S[0],I=S[1],A=Object(n.useState)(""),N=Object(m.a)(A,2),L=N[0],F=N[1],D=Object(n.useState)(""),U=Object(m.a)(D,2),R=U[0],B=U[1],P=Object(n.useState)(""),q=Object(m.a)(P,2),z=q[0],W=q[1],Y=Object(n.useState)(""),H=Object(m.a)(Y,2),J=H[0],M=H[1],X=Object(n.useState)(""),$=Object(m.a)(X,2),K=$[0],Q=$[1],V=Object(n.useState)([]),Z=Object(m.a)(V,2),_=Z[0],ee=Z[1],te=_.map((function(e){var t=e.id,a=e.name;return{value:t,text:"".concat(a)}}));Object(n.useEffect)((function(){G.all().then((function(e){var t=e.filter((function(e){return e.templateList}));ee(t)}))}),[]);return r.a.createElement(b.a.Column,{width:"13"},r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{textAlign:"left"},"Create new list")),r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,null,r.a.createElement(h.a,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a,{onSubmit:function(e){if(e.preventDefault(),void 0!==w){var a={listId:w,description:s,departments:E,status:!1,firstName:T,lastName:L,email:R,phoneNumber:J,address:z,office:K,title:c};ne.create(a).then((function(){u(""),p(""),O([]),C([]),I(""),F(""),Q(""),W(""),B(""),M(""),t.push("/lists")}))}}},r.a.createElement(j.a.Input,{placeholder:"First name",label:"First name",type:"text",value:T,onChange:function(e){return I(e.target.value)}}),r.a.createElement(j.a.Input,{placeholder:"Last name",label:"Last name",type:"text",value:L,onChange:function(e){return F(e.target.value)}}),r.a.createElement(j.a.Input,{placeholder:"Title",label:"Title",type:"text",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement(j.a.Input,{placeholder:"Email",label:"Email",type:"text",value:R,onChange:function(e){return B(e.target.value)}}),r.a.createElement(j.a.Input,{placeholder:"Adress",label:"Adress",type:"text",value:z,onChange:function(e){return W(e.target.value)}}),r.a.createElement(j.a.Input,{placeholder:"Phone Number",label:"Phone number",control:ae.a,type:"text",value:J,onChange:function(e){return M(e.target.value)}}),r.a.createElement(j.a.Input,{placeholder:"Office",label:"Office",type:"text",value:K,onChange:function(e){return Q(e.target.value)}}),te?r.a.createElement(j.a.Select,{placeholder:"Use template",options:te,onChange:function(e,t){var a=t.value;C(a)},value:E,clearable:!0}):null,r.a.createElement(g.a,{type:"submit"},"Save")))))))},le=function(e){e.history;var t=e.template,a=e.header,l=Object(n.useState)([]),c=Object(m.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(!1),p=Object(m.a)(s,2),f=p[0],d=p[1],E=Object(n.useState)(!1),O=Object(m.a)(E,2),j=O[0],y=O[1],k=Object(n.useState)(!0),w=Object(m.a)(k,2),C=w[0],x=w[1];Object(n.useEffect)((function(){J.allLists().then((function(e){i(e),console.log(e)})),G.all((function(e){return console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{float:"left",textAlign:"left"},a)),r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,null,null!=o&&0!==o.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a.Group,null,r.a.createElement(g.a,{onClick:function(){return x(!0),y(!1),void d(!1)}},"Incomplete"),r.a.createElement(g.a,{onClick:function(){return x(!1),y(!0),void d(!1)}},"Completed"),r.a.createElement(g.a,{onClick:function(){return x(!1),y(!1),void d(!0)}},"All")),r.a.createElement(h.a,null," ",r.a.createElement((function(){var e,a=(e=t?o[0].Lists.filter((function(e){return e.templateList})):o[0].Lists.filter((function(e){return!e.templateList}))).filter((function(e){return e.status})),n=e.filter((function(e){return!e.status}));return 0!==o[0].Lists.length?r.a.createElement(T.a,{divided:!0,relaxed:!0},C?n.map((function(e){return r.a.createElement(T.a.Item,{key:e.id},console.log(e),r.a.createElement(T.a.Content,{floated:"left"},r.a.createElement(u.b,{to:"/lists/".concat(e.id)},e.name)),r.a.createElement(T.a.Content,{floated:"left"},r.a.createElement("p",null,null==e.Tasks.length||e.templateList?"":r.a.createElement(r.a.Fragment,null,"Completed tasks:"," ",e.Tasks.filter((function(e){return e.status})).length," "," / ",e.Tasks.length))))})):"",j?a.map((function(e){return r.a.createElement(T.a.Item,{key:e.id},console.log(e),r.a.createElement(T.a.Content,{floated:"left"},r.a.createElement(u.b,{to:"/lists/".concat(e.id)},e.name)),r.a.createElement(T.a.Content,{floated:"left"},r.a.createElement("p",null,null==e.Tasks.length||e.templateList?"":r.a.createElement(r.a.Fragment,null,"Completed tasks:"," ",e.Tasks.filter((function(e){return e.status})).length," "," / ",e.Tasks.length))))})):"",f?e.map((function(e){return r.a.createElement(T.a.Item,{key:e.id},console.log(e),r.a.createElement(T.a.Content,{floated:"left"},r.a.createElement(u.b,{to:"/lists/".concat(e.id)},e.name)),r.a.createElement(T.a.Content,{floated:"left"},r.a.createElement("p",null,null==e.Tasks.length||e.templateList?"":r.a.createElement(r.a.Fragment,null,"Completed tasks:"," ",e.Tasks.filter((function(e){return e.status})).length," "," / ",e.Tasks.length))))})):""):r.a.createElement("p",null,t?"No templates available":"No lists available")}),null)),t?r.a.createElement(u.b,{to:"/templates/create"},r.a.createElement(g.a,null,"New template")):r.a.createElement(u.b,{to:"/lists/create"},r.a.createElement(g.a,null,"New employee list"))):"No lists available, please join a department first")))},ce=function(){return r.a.createElement(le,{template:!0,header:"Templates"})},ue=function(){return r.a.createElement(le,{header:"Employee lists"})},oe=a(363),ie=a(371),se=function(e){e.history;var t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],c=a[1],u=Object(o.g)(),i=Object(n.useState)(""),s=Object(m.a)(i,2),p=s[0],f=s[1],d=Object(n.useState)(""),E=Object(m.a)(d,2),O=E[0],y=E[1],k=Object(n.useState)(),w=Object(m.a)(k,2),C=w[0],x=w[1],S=Object(n.useState)(),I=Object(m.a)(S,2),A=(I[0],I[1]),N=Object(n.useState)(),L=Object(m.a)(N,2),F=L[0],D=L[1],U=Object(n.useState)([]),R=Object(m.a)(U,2),B=R[0],P=R[1],q=Object(n.useState)([]),z=Object(m.a)(q,2),W=z[0],Y=z[1],H=Object(n.useState)(""),M=Object(m.a)(H,2),X=M[0];M[1];Object(n.useEffect)((function(){G.get(u.id).then((function(e){c(e)})),J.all().then((function(e){P(e)}))}),[]),Object(n.useEffect)((function(){var e=B.filter((function(e){return l.Departments.some((function(t){return e.id!==t.id}))})).map((function(e){return{value:e.id,text:e.name}}));Y(e)}),[B]);return r.a.createElement(b.a.Column,{width:"13"},r.a.createElement("div",{style:{margin:"2em 0"}},r.a.createElement(v.a,{textAlign:"left"},"Edit list: ",l.name)),void 0!==l.name&&void 0!==B?r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,null,r.a.createElement(h.a,null,r.a.createElement(v.a,{as:"h4"},"Summary for ",l.name),l.description?r.a.createElement("p",null,"Decription: ",l.description):"",r.a.createElement(oe.a,null),r.a.createElement("h5",null,"Template:"),l.templateList?r.a.createElement("p",null,"Yes"):r.a.createElement("p",null,"No"),r.a.createElement(v.a,{as:"h5"},"Departments:"),void 0!==l.Departments?l.Departments.map((function(e){return r.a.createElement(T.a,{celled:!0},r.a.createElement(T.a.Item,{key:Object(ie.a)()},r.a.createElement(T.a.Content,{floated:"left"},e.name),r.a.createElement(T.a.Content,{floated:"right"},r.a.createElement(g.a,{compact:!0,onClick:function(){return function(e){console.log("click",e);l.Departments.filter((function(t){return t.id!==e}));var t={departmentId:e};G.update(u.id,t).then((function(e){console.log(e),c(e)}))}(e.id)}},"X"))))})):"",r.a.createElement(g.a,{floated:"right"},"Delete"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(h.a,null,r.a.createElement(j.a.Group,null,r.a.createElement(j.a,{onSubmit:function(e){if(e.preventDefault(),void 0!==C){var t={name:F!==l.name?F:l.name,description:O!==l.description?O:l.description,addedDepartment:C,status:!1,templateList:X!==l.templateList?X:p};console.log(t),G.update(u.id,t).then((function(e){f(""),y(""),x([]),A([]),c(e)}))}}},r.a.createElement(j.a.Input,{placeholder:"enter new name",label:"New name",type:"text",value:F,onChange:function(e){return D(e.target.value)}}),r.a.createElement(j.a.TextArea,{placeholder:"Enter description",label:"New description",type:"text",value:O,onChange:function(e){return y(e.target.value)}}),r.a.createElement(j.a.Select,{placeholder:"Add department",options:W,onChange:function(e,t){var a=t.value;x(a)},value:C,clearable:!0}),r.a.createElement(j.a.Checkbox,{inline:!0,label:"Template",checked:l.templateList}),r.a.createElement(g.a,{type:"submit"},"Save")))))):"")};s.a.defaults.withCredentials=!0;var me=function(){return r.a.createElement("div",null,r.a.createElement(E,null,r.a.createElement(u.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:O}),r.a.createElement(o.b,{path:"/login",exact:!0,component:x}),r.a.createElement(o.b,{path:"/register",exact:!0,component:S}),r.a.createElement(U,{path:"/home",component:A}),r.a.createElement(U,{path:"/lists",exact:!0,component:ue}),r.a.createElement(U,{path:"/lists/create",exact:!0,component:re}),r.a.createElement(U,{path:"/lists/edit/:id",exact:!0,component:se}),r.a.createElement(U,{path:"/lists/:id",exact:!0,component:K}),r.a.createElement(U,{path:"/templates/create",exact:!0,component:te}),r.a.createElement(U,{path:"/templates",exact:!0,component:ce}),r.a.createElement(U,{path:"/departments",exact:!0,component:Q}),r.a.createElement(U,{path:"/departments/:id",exact:!0,component:_})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[198,1,2]]]);
//# sourceMappingURL=main.fb4e9ddd.chunk.js.map